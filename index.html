<!DOCTYPE html>
<html lang="en" theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–°–∫–∞—á–∞—Ç—å –ª–∞—É–Ω—á–µ—Ä –§–æ–∫—Å—Ñ–æ—Ä–¥">
    <title>–°–∫–∞—á–∞—Ç—å –ª–∞—É–Ω—á–µ—Ä - –§–û–ö–°–§–û–†–î</title>

    <link href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>"
          rel="icon">
    <link href="files/wiki/style.css" rel="stylesheet">
    <link href="files/wiki/main.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        .download-buttons a {
            min-width: 38vw;
            max-width: 38vw;
        }
    </style>
</head>
<body>
    <main id="app">
        <nav class="menu menu-simplified">
            <div class="menu-flex-container">
                <a class="menu-logo" href="https://envel-experimental.github.io/Site">
                    <span style="margin-left: 10px;">–§–û–ö–°–§–û–†–î –õ–ê–£–ù–ß–ï–†<span class="tree-emoji">üå≥</span> –ó–ê–ì–†–£–ó–ö–ê</span>
                </a>
            </div>
        </nav>

        <div class="content doc">
            <h2 class="cent">–ü—Ä–∏–≤–µ—Ç! –î–∞–≤–∞–π —É—Å—Ç–∞–Ω–æ–≤–∏–º –ª–∞—É–Ω—á–µ—Ä!</h2>
            <h2 id="os-info" class="cent">–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–≤–æ–µ–π –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã...</h2>

            <div id="download-section" class="download-buttons">
                <a href="all_list.html" class="secondary-button"><i class="fas fa-download"></i>–Ø –≤—ã–±–µ—Ä—É —Å–∞–º, –ø–æ–∫–∞–∂–∏ —Å–ø–∏—Å–æ–∫</a>
            </div>
        </div>
    </main>

    <footer class="footer" id="footer">
        <div class="footer-left">
            <a href="">foxford.ru</a> &nbsp;¬∑&nbsp;
            <a href="">–õ–∞—É–Ω—á–µ—Ä.–ì–ª–∞–≤–Ω–∞—è</a> &nbsp;¬∑&nbsp;
            <a href="">30.11.2024</a><br><br>
            CC BY-SA
        </div>
        <div class="footer-right">
            <label class="theme-switcher" for="checkbox">
                <input checked="checked" id="checkbox" type="checkbox">
                <span class="slider round"></span>
            </label>
        </div>
    </footer>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –û–° –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ–π
        function isSupportedOS() {
            const userAgent = navigator.userAgent.toLowerCase();
    
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º Windows
            if (/windows nt (\d+\.\d+)/.test(userAgent)) {
                const version = parseFloat(userAgent.match(/windows nt (\d+\.\d+)/)[1]);
                return version >= 10; // –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è Windows 10 –∏ 11
            }
    
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º macOS
            if (/mac os x (\d+(\.\d+)?)/.test(userAgent)) {
                const version = parseFloat(userAgent.match(/mac os x (\d+(\.\d+)?)/)[1]);
                return version >= 11; // –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è macOS 11 –∏ –≤—ã—à–µ
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º Android
            if (/android/i.test(userAgent)) {
                return false; // Android –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
            }
    
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º Linux
            if (/linux/i.test(userAgent)) {
                return true; // Linux –≤—Å–µ–≥–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º iOS
            if (/iphone|ipad|ipod/i.test(userAgent)) {
                return false; // iOS –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
            }
    
            return false; // –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
        }
    
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON-—Ñ–∞–π–ª–∞
        function loadDownloadLinks() {
            return fetch('downloadLinks.json')
                .then(response => response.json())
                .catch(error => {
                    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ —Å —Å—Å—ã–ª–∫–∞–º–∏:', error);
                    return null;
                });
        }
    
        function detectOS() {
            const userAgent = navigator.userAgent || navigator.vendor || window.opera;
            if (/win/i.test(userAgent)) {
                return { name: "Windows", linkKey: "windows" };
            }
            if (/mac/i.test(userAgent)) {
                return { name: "macOS", linkKey: "mac" };
            }
            if (/linux/i.test(userAgent)) {
                return { name: "Linux", linkKey: "linux" };
            }
            return { name: "–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞", linkKey: null };
        }
    
        function redirectToHelpPage() {
            setTimeout(function() {
                window.location.href = "help.html";
            }, 2000);
        }
    
        document.addEventListener('DOMContentLoaded', () => {
            const osInfoElement = document.getElementById("os-info");
            const downloadSection = document.getElementById("download-section");
            const os = detectOS();
    
            if (!isSupportedOS()) {
                // –ï—Å–ª–∏ –û–° –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
                window.location.href = "tooold.html";
                return;
            }
    
            osInfoElement.textContent = `–¢–≤–æ—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: ${os.name}`;
    
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Å—ã–ª–∫–∏ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
            loadDownloadLinks().then(data => {
                if (data && os.linkKey && data[os.linkKey]) {
                    // –§–æ—Ä–º–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è —Ç–µ–∫—É—â–µ–π –û–°
                    const downloadForOS = `
                        <a href="${data[os.linkKey]}" class="primary-button" onclick="redirectToHelpPage()">
                            <i class="fab fa-${os.name === 'Windows' ? 'windows' : os.name === 'macOS' ? 'apple' : 'linux'}"></i> 
                            –°–∫–∞—á–∞—Ç—å –¥–ª—è ${os.name}
                        </a>
                    `;
    
                    // –í—Å—Ç–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
                    downloadSection.innerHTML = downloadForOS;
                }
    
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –¥–ª—è –≤—ã–±–æ—Ä–∞ –¥—Ä—É–≥–æ–π —Å–∏—Å—Ç–µ–º—ã
                const downloadOtherVersions = `
                    <a href="all_list.html" class="secondary-button"><i class="fas fa-download"></i> –ù–µ—Ç, —Å–∫–∞—á–∞—Ç—å –¥–ª—è –¥—Ä—É–≥–æ–π —Å–∏—Å—Ç–µ–º—ã</a>
                `;
                downloadSection.innerHTML += downloadOtherVersions;
            });
        });

        
    </script>    
        

    <script src="files/wiki/theme.js"></script>
</body>
</html>
